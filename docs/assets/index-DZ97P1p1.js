var zl=Object.defineProperty;var Nl=(t,e,n)=>e in t?zl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var gt=(t,e,n)=>(Nl(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function E(){}function bl(t){return t()}function Et(){return Object.create(null)}function te(t){t.forEach(bl)}function zt(t){return typeof t=="function"}function be(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Il(t){return Object.keys(t).length===0}function gl(t,...e){if(t==null){for(const l of e)l(void 0);return E}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function G(t,e,n){t.$$.on_destroy.push(gl(e,n))}function At(t){return t??""}function A(t,e,n){return t.set(n),e}function a(t,e){t.appendChild(e)}function S(t,e,n){t.insertBefore(e,n||null)}function w(t){t.parentNode&&t.parentNode.removeChild(t)}function ze(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function Y(t){return document.createTextNode(t)}function y(){return Y(" ")}function Nt(){return Y("")}function z(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function fe(t){return function(e){return e.preventDefault(),t.call(this,e)}}function wt(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function f(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function vl(t){return t===""?null:+t}function Ll(t){return Array.from(t.childNodes)}function re(t,e){e=""+e,t.data!==e&&(t.data=e)}function q(t,e){t.value=e??""}function Tl(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}function Ee(t,e,n){for(let l=0;l<t.options.length;l+=1){const s=t.options[l];if(s.__value===e){s.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function vt(t){const e=t.querySelector(":checked");return e&&e.__value}function Ae(t,e,n){t.classList.toggle(e,!!n)}let ot;function it(t){ot=t}function kl(){if(!ot)throw new Error("Function called outside component initialization");return ot}function Ml(t){kl().$$.on_mount.push(t)}function Ol(t){kl().$$.on_destroy.push(t)}const Ke=[],Ie=[];let Xe=[];const St=[],yl=Promise.resolve();let $t=!1;function wl(){$t||($t=!0,yl.then($l))}function Sl(){return wl(),yl}function Qe(t){Xe.push(t)}function It(t){St.push(t)}const kt=new Set;let Re=0;function $l(){if(Re!==0)return;const t=ot;do{try{for(;Re<Ke.length;){const e=Ke[Re];Re++,it(e),Bl(e.$$)}}catch(e){throw Ke.length=0,Re=0,e}for(it(null),Ke.length=0,Re=0;Ie.length;)Ie.pop()();for(let e=0;e<Xe.length;e+=1){const n=Xe[e];kt.has(n)||(kt.add(n),n())}Xe.length=0}while(Ke.length);for(;St.length;)St.pop()();$t=!1,kt.clear(),it(t)}function Bl(t){if(t.fragment!==null){t.update(),te(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Qe)}}function El(t){const e=[],n=[];Xe.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),Xe=e}const ut=new Set;let je;function we(){je={r:0,c:[],p:je}}function Se(){je.r||te(je.c),je=je.p}function T(t,e){t&&t.i&&(ut.delete(t),t.i(e))}function F(t,e,n,l){if(t&&t.o){if(ut.has(t))return;ut.add(t),je.c.push(()=>{ut.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function le(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Lt(t,e,n){const l=t.$$.props[e];l!==void 0&&(t.$$.bound[l]=n,n(t.$$.ctx[l]))}function ue(t){t&&t.c()}function oe(t,e,n){const{fragment:l,after_update:s}=t.$$;l&&l.m(e,n),Qe(()=>{const i=t.$$.on_mount.map(bl).filter(zt);t.$$.on_destroy?t.$$.on_destroy.push(...i):te(i),t.$$.on_mount=[]}),s.forEach(Qe)}function ae(t,e){const n=t.$$;n.fragment!==null&&(El(n.after_update),te(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Al(t,e){t.$$.dirty[0]===-1&&(Ke.push(t),wl(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ke(t,e,n,l,s,i,r=null,u=[-1]){const c=ot;it(t);const o=t.$$={fragment:null,ctx:[],props:i,update:E,not_equal:s,bound:Et(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Et(),dirty:u,skip_bound:!1,root:e.target||c.$$.root};r&&r(o.root);let d=!1;if(o.ctx=n?n(t,e.props||{},(m,v,...b)=>{const h=b.length?b[0]:v;return o.ctx&&s(o.ctx[m],o.ctx[m]=h)&&(!o.skip_bound&&o.bound[m]&&o.bound[m](h),d&&Al(t,m)),v}):[],o.update(),d=!0,te(o.before_update),o.fragment=l?l(o.ctx):!1,e.target){if(e.hydrate){const m=Ll(e.target);o.fragment&&o.fragment.l(m),m.forEach(w)}else o.fragment&&o.fragment.c();e.intro&&T(t.$$.fragment),oe(t,e.target,e.anchor),$l()}it(c)}class ye{constructor(){gt(this,"$$");gt(this,"$$set")}$destroy(){ae(this,1),this.$destroy=E}$on(e,n){if(!zt(n))return E;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!Il(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Fl="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Fl);const Je=[];function Yl(t,e){return{subscribe:Le(t,e).subscribe}}function Le(t,e=E){let n;const l=new Set;function s(u){if(be(t,u)&&(t=u,n)){const c=!Je.length;for(const o of l)o[1](),Je.push(o,t);if(c){for(let o=0;o<Je.length;o+=2)Je[o][0](Je[o+1]);Je.length=0}}}function i(u){s(u(t))}function r(u,c=E){const o=[u,c];return l.add(o),l.size===1&&(n=e(s,i)||E),u(t),()=>{l.delete(o),l.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:r}}function Pl(t,e,n){const l=!Array.isArray(t),s=l?[t]:t;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=e.length<2;return Yl(n,(r,u)=>{let c=!1;const o=[];let d=0,m=E;const v=()=>{if(d)return;m();const h=e(l?o[0]:o,r,u);i?r(h):m=zt(h)?h:E},b=s.map((h,g)=>gl(h,_=>{o[g]=_,d&=~(1<<g),c&&v()},()=>{d|=1<<g}));return c=!0,v(),function(){te(b),m(),c=!1}})}function ve(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(n){alert("Error saving to localStorage: "+n)}}function Ne(t){try{const e=localStorage.getItem(t);return e?JSON.parse(e):null}catch(e){alert("Error loading from localStorage: "+e)}}const Ue=qe(new Date);function Ct(t){return new Date(t.getTime())}function qe(t){return t.toISOString().substr(0,10)}function We(t,e,n){let l;switch(n){case"days":l="Date";break;case"years":l="FullYear";break;default:throw new Error("Only days and years supported")}const s=Ct(t);return s["setUTC"+l](s["getUTC"+l]()+e),s}function Hl(t){let e=Ct(t);const n=[];for(let l=0;l<100;l++){let s=e,i=We(We(s,1,"years"),-1,"days"),r=Ct(s);const u=[];for(let c=1;c<=52;c++){let o=r;r=We(r,6,"days");let d=r;for(;c===52&&qe(d)<qe(i);)r=We(r,1,"days"),d=r;u.push({weekNumber:c,age:l,startDate:qe(o),endDate:qe(d),matchedTimeSpans:[]}),r=We(r,1,"days")}n.push({year:e.getFullYear(),age:l,startDate:qe(s),endDate:qe(i),weeks:u}),e=We(e,1,"years")}return n}const Oe=Le("default"),pt=Le(!1),ft=Le(null),Ge=Le(null),_t=Le(Ne("dateOfBirth")||Ue),K=Le(Ne("timeSpans")||[]),Ze=Le(null),Cl=Pl(K,t=>{const e=[];for(let n of t)e.includes(n.category)||e.push(n.category);return e.length||e.push("Default"),[...new Set(e)]}),dt=Le(Ne("settings")||{showPast:!0,blinkNow:!0}),se=Le({startDate:null,endDate:null,name:"",description:"",category:"",style:{}});function Ft(t,e,n){const l=t.slice();return l[3]=e[n],l}function Yt(t,e,n){const l=t.slice();return l[2]=e[n],l}function Pt(t,e,n){const l=t.slice();return l[1]=e[n],l}function Ht(t){let e,n=t[1]+"",l,s;return{c(){e=p("option"),l=Y(n),e.__value=s=t[1],q(e,e.__value)},m(i,r){S(i,e,r),a(e,l)},p(i,r){r&1&&n!==(n=i[1]+"")&&re(l,n),r&1&&s!==(s=i[1])&&(e.__value=s,q(e,e.__value))},d(i){i&&w(e)}}}function qt(t){let e,n=t[2]+"",l;return{c(){e=p("option"),l=Y(n),e.__value=t[2],q(e,e.__value)},m(s,i){S(s,e,i),a(e,l)},p:E,d(s){s&&w(e)}}}function Wt(t){let e,n=t[3]+"",l;return{c(){e=p("option"),l=Y(n),e.__value=t[3],q(e,e.__value)},m(s,i){S(s,e,i),a(e,l)},p:E,d(s){s&&w(e)}}}function ql(t){let e,n,l,s,i,r,u,c=le([...Array(100).keys()].map(t[5])),o=[];for(let h=0;h<c.length;h+=1)o[h]=Ht(Pt(t,c,h));let d=le([...Array(12).keys()].map(jt)),m=[];for(let h=0;h<d.length;h+=1)m[h]=qt(Yt(t,d,h));let v=le([...Array(31).keys()].map(Ut)),b=[];for(let h=0;h<v.length;h+=1)b[h]=Wt(Ft(t,v,h));return{c(){e=p("select");for(let h=0;h<o.length;h+=1)o[h].c();n=Y(`
-
`),l=p("select");for(let h=0;h<m.length;h+=1)m[h].c();s=Y(`
-
`),i=p("select");for(let h=0;h<b.length;h+=1)b[h].c();t[1]===void 0&&Qe(()=>t[6].call(e)),t[2]===void 0&&Qe(()=>t[7].call(l)),t[3]===void 0&&Qe(()=>t[8].call(i))},m(h,g){S(h,e,g);for(let _=0;_<o.length;_+=1)o[_]&&o[_].m(e,null);Ee(e,t[1],!0),S(h,n,g),S(h,l,g);for(let _=0;_<m.length;_+=1)m[_]&&m[_].m(l,null);Ee(l,t[2],!0),S(h,s,g),S(h,i,g);for(let _=0;_<b.length;_+=1)b[_]&&b[_].m(i,null);Ee(i,t[3],!0),r||(u=[z(e,"change",t[6]),z(l,"change",t[7]),z(i,"change",t[8])],r=!0)},p(h,[g]){if(g&1){c=le([...Array(100).keys()].map(h[5]));let _;for(_=0;_<c.length;_+=1){const k=Pt(h,c,_);o[_]?o[_].p(k,g):(o[_]=Ht(k),o[_].c(),o[_].m(e,null))}for(;_<o.length;_+=1)o[_].d(1);o.length=c.length}if(g&3&&Ee(e,h[1]),g&0){d=le([...Array(12).keys()].map(jt));let _;for(_=0;_<d.length;_+=1){const k=Yt(h,d,_);m[_]?m[_].p(k,g):(m[_]=qt(k),m[_].c(),m[_].m(l,null))}for(;_<m.length;_+=1)m[_].d(1);m.length=d.length}if(g&4&&Ee(l,h[2]),g&0){v=le([...Array(31).keys()].map(Ut));let _;for(_=0;_<v.length;_+=1){const k=Ft(h,v,_);b[_]?b[_].p(k,g):(b[_]=Wt(k),b[_].c(),b[_].m(i,null))}for(;_<b.length;_+=1)b[_].d(1);b.length=v.length}g&8&&Ee(i,h[3])},i:E,o:E,d(h){h&&(w(e),w(n),w(l),w(s),w(i)),ze(o,h),ze(m,h),ze(b,h),r=!1,te(u)}}}const jt=t=>(t+1).toString().padStart(2,"0"),Ut=t=>(t+1).toString().padStart(2,"0");function Wl(t,e,n){let{dateString:l}=e,{startYear:s}=e,i=l.substr(0,4),r=l.substr(5,2),u=l.substr(8,2);const c=v=>(s+v).toString();function o(){i=vt(this),n(1,i),n(0,s)}function d(){r=vt(this),n(2,r)}function m(){u=vt(this),n(3,u),n(1,i),n(2,r),n(4,l)}return t.$$set=v=>{"dateString"in v&&n(4,l=v.dateString),"startYear"in v&&n(0,s=v.startYear)},t.$$.update=()=>{if(t.$$.dirty&30){n(4,l=`${i}-${r}-${u}`);const v=new Date(l);isNaN(v.getTime())&&(n(3,u="28"),n(4,l=`${i}-${r}-${u}`))}},[s,i,r,u,l,c,o,d,m]}class Tt extends ye{constructor(e){super(),ke(this,e,Wl,ql,be,{dateString:4,startYear:0})}}function jl(t){let e,n,l,s,i;function r(c){t[2](c)}let u={startYear:t[1]};return t[0]!==void 0&&(u.dateString=t[0]),l=new Tt({props:u}),Ie.push(()=>Lt(l,"dateString",r)),{c(){e=p("div"),n=Y("Your day of birth: "),ue(l.$$.fragment),f(e,"class","dob-picker")},m(c,o){S(c,e,o),a(e,n),oe(l,e,null),i=!0},p(c,[o]){const d={};!s&&o&1&&(s=!0,d.dateString=c[0],It(()=>s=!1)),l.$set(d)},i(c){i||(T(l.$$.fragment,c),i=!0)},o(c){F(l.$$.fragment,c),i=!1},d(c){c&&w(e),ae(l)}}}function Ul(t,e,n){let l;G(t,_t,r=>n(0,l=r));let s=We(new Date,-99,"years").getFullYear();function i(r){l=r,_t.set(l)}return t.$$.update=()=>{t.$$.dirty&1&&ve("dateOfBirth",l)},[l,s,i]}class Vl extends ye{constructor(e){super(),ke(this,e,Ul,jl,be,{})}}function Rl(t,e,n,l){if(t!=="create-time-span"||!e.startDate)return!1;let s;return e.endDate?s=l.startDate<=(e.endDate==="ongoing"?Ue:e.endDate):s=n&&l.startDate<=n.endDate,s&&l.endDate>=e.startDate}function Jl(t,e,n){return t!=="create-time-span"||!e.startDate||e.endDate?!1:n.endDate<e.startDate}function rt(t){let e="";for(let n in t){let l="";["border-width"].includes(n)&&(l="px"),e+=t[n]!==null?`${n}:${t[n]}${l};`:""}return e}function yt(t,e=null){const n={"background-color":null,"border-color":null,"border-width":null};for(let l of t.matchedTimeSpans)for(let s in n)l.style[s]!==null&&(n[s]=l.style[s]);if(e)for(let l in e)e[l]!==null&&(n[l]=e[l]);return n}function Vt(t){let e,n=t[0].description+"",l;return{c(){e=p("div"),l=Y(n),f(e,"class","description svelte-1256lz3")},m(s,i){S(s,e,i),a(e,l)},p(s,i){i&1&&n!==(n=s[0].description+"")&&re(l,n)},d(s){s&&w(e)}}}function Kl(t){let e,n,l,s,i,r,u,c=t[0].category+"",o,d,m,v=t[0].name+"",b,h,g,_=t[0].startDate+"",k,C,U=t[0].endDate+"",N,P,M=t[0].description&&Vt(t);return{c(){e=p("div"),n=p("div"),l=p("div"),i=y(),r=p("div"),u=p("div"),o=Y(c),d=y(),m=p("strong"),b=Y(v),h=p("br"),g=y(),k=Y(_),C=Y(" - "),N=Y(U),P=y(),M&&M.c(),f(l,"class","dot svelte-1256lz3"),f(l,"style",s=rt(t[0].style)),f(n,"class","dot-wrapper svelte-1256lz3"),f(u,"class","category"),f(r,"class","text"),f(e,"class","span svelte-1256lz3")},m(H,O){S(H,e,O),a(e,n),a(n,l),a(e,i),a(e,r),a(r,u),a(u,o),a(r,d),a(r,m),a(m,b),a(r,h),a(r,g),a(r,k),a(r,C),a(r,N),a(r,P),M&&M.m(r,null)},p(H,[O]){O&1&&s!==(s=rt(H[0].style))&&f(l,"style",s),O&1&&c!==(c=H[0].category+"")&&re(o,c),O&1&&v!==(v=H[0].name+"")&&re(b,v),O&1&&_!==(_=H[0].startDate+"")&&re(k,_),O&1&&U!==(U=H[0].endDate+"")&&re(N,U),H[0].description?M?M.p(H,O):(M=Vt(H),M.c(),M.m(r,null)):M&&(M.d(1),M=null)},i:E,o:E,d(H){H&&w(e),M&&M.d()}}}function Gl(t,e,n){let{timeSpan:l}=e;return t.$$set=s=>{"timeSpan"in s&&n(0,l=s.timeSpan)},[l]}class Dl extends ye{constructor(e){super(),ke(this,e,Gl,Kl,be,{timeSpan:0})}}function Rt(t,e,n){const l=t.slice();return l[1]=e[n],l}function Jt(t){var U;let e,n,l,s=t[0].age+"",i,r,u=t[0].weekNumber+"",c,o,d,m=t[0].startDate+"",v,b,h=t[0].endDate+"",g,_,k,C=((U=t[0].matchedTimeSpans)==null?void 0:U.length)&&Kt(t);return{c(){e=p("div"),n=p("strong"),l=Y("Age "),i=Y(s),r=Y(", Week "),c=Y(u),o=p("br"),d=y(),v=Y(m),b=Y(" - "),g=Y(h),_=y(),C&&C.c(),f(n,"class","week svelte-cgmv2i"),f(e,"class","current-week-details svelte-cgmv2i")},m(N,P){S(N,e,P),a(e,n),a(n,l),a(n,i),a(n,r),a(n,c),a(e,o),a(e,d),a(e,v),a(e,b),a(e,g),a(e,_),C&&C.m(e,null),k=!0},p(N,P){var M;(!k||P&1)&&s!==(s=N[0].age+"")&&re(i,s),(!k||P&1)&&u!==(u=N[0].weekNumber+"")&&re(c,u),(!k||P&1)&&m!==(m=N[0].startDate+"")&&re(v,m),(!k||P&1)&&h!==(h=N[0].endDate+"")&&re(g,h),(M=N[0].matchedTimeSpans)!=null&&M.length?C?(C.p(N,P),P&1&&T(C,1)):(C=Kt(N),C.c(),T(C,1),C.m(e,null)):C&&(we(),F(C,1,1,()=>{C=null}),Se())},i(N){k||(T(C),k=!0)},o(N){F(C),k=!1},d(N){N&&w(e),C&&C.d()}}}function Kt(t){let e,n,l,s,i=le(t[0].matchedTimeSpans),r=[];for(let c=0;c<i.length;c+=1)r[c]=Gt(Rt(t,i,c));const u=c=>F(r[c],1,1,()=>{r[c]=null});return{c(){e=p("hr"),n=y();for(let c=0;c<r.length;c+=1)r[c].c();l=Nt(),f(e,"class","spacer svelte-cgmv2i")},m(c,o){S(c,e,o),S(c,n,o);for(let d=0;d<r.length;d+=1)r[d]&&r[d].m(c,o);S(c,l,o),s=!0},p(c,o){if(o&1){i=le(c[0].matchedTimeSpans);let d;for(d=0;d<i.length;d+=1){const m=Rt(c,i,d);r[d]?(r[d].p(m,o),T(r[d],1)):(r[d]=Gt(m),r[d].c(),T(r[d],1),r[d].m(l.parentNode,l))}for(we(),d=i.length;d<r.length;d+=1)u(d);Se()}},i(c){if(!s){for(let o=0;o<i.length;o+=1)T(r[o]);s=!0}},o(c){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)F(r[o]);s=!1},d(c){c&&(w(e),w(n),w(l)),ze(r,c)}}}function Gt(t){let e,n,l,s;return n=new Dl({props:{timeSpan:t[1]}}),{c(){e=p("div"),ue(n.$$.fragment),l=y(),f(e,"class","detail-wrapper svelte-cgmv2i")},m(i,r){S(i,e,r),oe(n,e,null),a(e,l),s=!0},p(i,r){const u={};r&1&&(u.timeSpan=i[1]),n.$set(u)},i(i){s||(T(n.$$.fragment,i),s=!0)},o(i){F(n.$$.fragment,i),s=!1},d(i){i&&w(e),ae(n)}}}function Xl(t){let e,n,l=t[0]&&Jt(t);return{c(){l&&l.c(),e=Nt()},m(s,i){l&&l.m(s,i),S(s,e,i),n=!0},p(s,[i]){s[0]?l?(l.p(s,i),i&1&&T(l,1)):(l=Jt(s),l.c(),T(l,1),l.m(e.parentNode,e)):l&&(we(),F(l,1,1,()=>{l=null}),Se())},i(s){n||(T(l),n=!0)},o(s){F(l),n=!1},d(s){s&&w(e),l&&l.d(s)}}}function Ql(t,e,n){let l;return G(t,ft,s=>n(0,l=s)),[l]}class Zl extends ye{constructor(e){super(),ke(this,e,Ql,Xl,be,{})}}const mt=`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <g>
        <path d="M18.717 6.697l-1.414-1.414-5.303 5.303-5.303-5.303-1.414 1.414 5.303 5.303-5.303 5.303 1.414 1.414 5.303-5.303 5.303 5.303 1.414-1.414-5.303-5.303z"/>
    </g>
</svg>
`;function Xt(t,e,n){const l=t.slice();return l[30]=e[n],l}function xl(t){let e,n,l=t[4].startDate+"",s;return{c(){e=p("div"),n=Y("Start: "),s=Y(l),f(e,"class","substep svelte-1pl6nbx")},m(i,r){S(i,e,r),a(e,n),a(e,s)},p(i,r){r[0]&16&&l!==(l=i[4].startDate+"")&&re(s,l)},d(i){i&&w(e)}}}function en(t){let e;return{c(){e=p("div"),e.textContent="Pick a start date from the calendar",f(e,"class","substep svelte-1pl6nbx")},m(n,l){S(n,e,l)},p:E,d(n){n&&w(e)}}}function tn(t){let e,n=t[4].endDate+"",l;return{c(){e=Y("End: "),l=Y(n)},m(s,i){S(s,e,i),S(s,l,i)},p(s,i){i[0]&16&&n!==(n=s[4].endDate+"")&&re(l,n)},d(s){s&&(w(e),w(l))}}}function ln(t){let e,n,l,s;return{c(){e=Y(`Pick an end date or click
        `),n=p("button"),n.textContent="ongoing",f(n,"class","ongoing svelte-1pl6nbx")},m(i,r){S(i,e,r),S(i,n,r),l||(s=z(n,"click",t[13]),l=!0)},p:E,d(i){i&&(w(e),w(n)),l=!1,s()}}}function nn(t){let e,n,l;return{c(){e=p("input"),f(e,"id","category"),f(e,"class","svelte-1pl6nbx")},m(s,i){S(s,e,i),q(e,t[4].category),t[18](e),n||(l=[z(e,"input",t[17]),z(e,"blur",t[10])],n=!0)},p(s,i){i[0]&16&&e.value!==s[4].category&&q(e,s[4].category)},d(s){s&&w(e),t[18](null),n=!1,te(l)}}}function sn(t){let e,n,l,s,i=le(t[5]),r=[];for(let u=0;u<i.length;u+=1)r[u]=Qt(Xt(t,i,u));return{c(){e=p("select");for(let u=0;u<r.length;u+=1)r[u].c();n=p("option"),n.textContent="Create new category...",n.__value="$$createNew",q(n,n.__value),f(e,"id","category")},m(u,c){S(u,e,c);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null);a(e,n),l||(s=z(e,"change",t[9]),l=!0)},p(u,c){if(c[0]&32){i=le(u[5]);let o;for(o=0;o<i.length;o+=1){const d=Xt(u,i,o);r[o]?r[o].p(d,c):(r[o]=Qt(d),r[o].c(),r[o].m(e,n))}for(;o<r.length;o+=1)r[o].d(1);r.length=i.length}},d(u){u&&w(e),ze(r,u),l=!1,s()}}}function Qt(t){let e,n=t[30]+"",l,s;return{c(){e=p("option"),l=Y(n),e.__value=s=t[30],q(e,e.__value)},m(i,r){S(i,e,r),a(e,l)},p(i,r){r[0]&32&&n!==(n=i[30]+"")&&re(l,n),r[0]&32&&s!==(s=i[30])&&(e.__value=s,q(e,e.__value))},d(i){i&&w(e)}}}function rn(t){let e,n,l;return{c(){e=p("a"),e.textContent="Set background color",f(e,"href","#"),f(e,"class","svelte-1pl6nbx")},m(s,i){S(s,e,i),n||(l=z(e,"click",fe(t[21])),n=!0)},p:E,d(s){s&&w(e),n=!1,l()}}}function on(t){let e,n,l,s,i,r,u,c;return{c(){e=p("input"),n=y(),l=p("div"),s=p("label"),s.textContent="Background color",i=y(),r=p("a"),r.textContent="unset",f(e,"type","color"),f(e,"id","bg-color"),f(e,"class","svelte-1pl6nbx"),f(s,"for","bg-color"),f(r,"href","#"),f(r,"class","svelte-1pl6nbx")},m(o,d){S(o,e,d),q(e,t[4].style["background-color"]),S(o,n,d),S(o,l,d),a(l,s),a(l,i),a(l,r),u||(c=[z(e,"input",t[19]),z(r,"click",fe(t[20]))],u=!0)},p(o,d){d[0]&16&&q(e,o[4].style["background-color"])},d(o){o&&(w(e),w(n),w(l)),u=!1,te(c)}}}function an(t){let e,n,l;return{c(){e=p("a"),e.textContent="Set border color",f(e,"href","#"),f(e,"class","svelte-1pl6nbx")},m(s,i){S(s,e,i),n||(l=z(e,"click",fe(t[24])),n=!0)},p:E,d(s){s&&w(e),n=!1,l()}}}function cn(t){let e,n,l,s,i,r,u,c;return{c(){e=p("input"),n=y(),l=p("div"),s=p("label"),s.textContent="Border color",i=y(),r=p("a"),r.textContent="unset",f(e,"type","color"),f(e,"id","b-color"),f(e,"class","svelte-1pl6nbx"),f(s,"for","b-color"),f(r,"href","#"),f(r,"class","svelte-1pl6nbx")},m(o,d){S(o,e,d),q(e,t[4].style["border-color"]),S(o,n,d),S(o,l,d),a(l,s),a(l,i),a(l,r),u||(c=[z(e,"input",t[22]),z(r,"click",fe(t[23]))],u=!0)},p(o,d){d[0]&16&&q(e,o[4].style["border-color"])},d(o){o&&(w(e),w(n),w(l)),u=!1,te(c)}}}function un(t){let e,n,l;return{c(){e=p("a"),e.textContent="Set border width",f(e,"href","#"),f(e,"class","svelte-1pl6nbx")},m(s,i){S(s,e,i),n||(l=z(e,"click",fe(t[27])),n=!0)},p:E,d(s){s&&w(e),n=!1,l()}}}function fn(t){let e,n,l,s,i,r,u,c;return{c(){e=p("input"),n=y(),l=p("div"),s=p("label"),s.textContent="Border width",i=y(),r=p("a"),r.textContent="unset",f(e,"type","range"),f(e,"min","0"),f(e,"max","9"),f(e,"id","b-width"),f(e,"class","svelte-1pl6nbx"),f(s,"for","b-width"),f(r,"href","#"),f(r,"class","svelte-1pl6nbx")},m(o,d){S(o,e,d),q(e,t[4].style["border-width"]),S(o,n,d),S(o,l,d),a(l,s),a(l,i),a(l,r),u||(c=[z(e,"change",t[25]),z(e,"input",t[25]),z(r,"click",fe(t[26]))],u=!0)},p(o,d){d[0]&16&&q(e,o[4].style["border-width"])},d(o){o&&(w(e),w(n),w(l)),u=!1,te(c)}}}function dn(t){let e,n,l,s,i,r,u,c,o,d,m,v,b,h,g,_,k,C,U,N,P,M,H,O,ne,R,Z,X,B,V,D,j,$,W,Q,Fe,Ye,Te,xe;function Be(L,J){return L[4].startDate?xl:en}let Pe=Be(t),ie=Pe(t);function et(L,J){return L[4].endDate?tn:ln}let ge=et(t),de=ge(t);function He(L,J){return L[3]==="select"?sn:nn}let $e=He(t),ce=$e(t);function tt(L,J){return L[4].style["background-color"]!==null?on:rn}let Ve=tt(t),pe=Ve(t);function lt(L,J){return L[4].style["border-color"]!==null?cn:an}let _e=lt(t),me=_e(t);function nt(L,J){return L[4].style["border-width"]!==null?fn:un}let Me=nt(t),x=Me(t);return{c(){var L,J;e=p("div"),n=p("div"),n.textContent="Create time span",l=y(),s=p("a"),i=y(),r=p("div"),ie.c(),u=y(),c=p("div"),o=p("div"),de.c(),d=y(),m=p("div"),v=p("div"),b=p("label"),b.textContent="Name",h=y(),g=p("input"),_=y(),k=p("div"),C=p("label"),C.textContent="Description",U=y(),N=p("textarea"),P=y(),M=p("div"),H=p("label"),H.textContent="Category",O=y(),ce.c(),ne=y(),R=p("div"),Z=p("div"),Z.textContent="Styling",X=y(),B=p("div"),pe.c(),V=y(),D=p("div"),me.c(),j=y(),$=p("div"),x.c(),W=y(),Q=p("button"),Fe=Y("Create time span"),f(n,"class","title svelte-1pl6nbx"),f(s,"class","close svelte-1pl6nbx"),f(r,"class","step svelte-1pl6nbx"),Ae(r,"is-active",t[0]==="start"),f(o,"class","substep svelte-1pl6nbx"),f(c,"class","step svelte-1pl6nbx"),Ae(c,"is-active",t[0]==="end"),f(b,"class","substep-head svelte-1pl6nbx"),f(b,"for","name"),f(g,"id","name"),f(g,"class","svelte-1pl6nbx"),f(v,"class","substep svelte-1pl6nbx"),f(C,"class","substep-head svelte-1pl6nbx"),f(C,"for","description"),f(N,"id","description"),f(N,"rows","3"),f(N,"class","svelte-1pl6nbx"),f(k,"class","substep svelte-1pl6nbx"),f(H,"class","substep-head svelte-1pl6nbx"),f(H,"for","category"),f(M,"class","substep svelte-1pl6nbx"),f(Z,"class","substep-head svelte-1pl6nbx"),f(B,"class","style-row svelte-1pl6nbx"),f(D,"class","style-row svelte-1pl6nbx"),f($,"class","style-row svelte-1pl6nbx"),f(R,"class","substep svelte-1pl6nbx"),f(Q,"class","create-button svelte-1pl6nbx"),Q.disabled=Ye=!((L=t[4].name)!=null&&L.trim())||!((J=t[4].category)!=null&&J.trim()),f(m,"class","step svelte-1pl6nbx"),Ae(m,"is-active",t[0]==="name"),f(e,"class","create-time-span svelte-1pl6nbx")},m(L,J){S(L,e,J),a(e,n),a(e,l),a(e,s),s.innerHTML=mt,a(e,i),a(e,r),ie.m(r,null),a(e,u),a(e,c),a(c,o),de.m(o,null),a(e,d),a(e,m),a(m,v),a(v,b),a(v,h),a(v,g),q(g,t[4].name),t[15](g),a(m,_),a(m,k),a(k,C),a(k,U),a(k,N),q(N,t[4].description),a(m,P),a(m,M),a(M,H),a(M,O),ce.m(M,null),a(m,ne),a(m,R),a(R,Z),a(R,X),a(R,B),pe.m(B,null),a(R,V),a(R,D),me.m(D,null),a(R,j),a(R,$),x.m($,null),a(m,W),a(m,Q),a(Q,Fe),Te||(xe=[z(s,"click",t[12]),z(g,"input",t[14]),z(N,"input",t[16]),z(Q,"click",t[8])],Te=!0)},p(L,J){var he,st;Pe===(Pe=Be(L))&&ie?ie.p(L,J):(ie.d(1),ie=Pe(L),ie&&(ie.c(),ie.m(r,null))),J[0]&1&&Ae(r,"is-active",L[0]==="start"),ge===(ge=et(L))&&de?de.p(L,J):(de.d(1),de=ge(L),de&&(de.c(),de.m(o,null))),J[0]&1&&Ae(c,"is-active",L[0]==="end"),J[0]&16&&g.value!==L[4].name&&q(g,L[4].name),J[0]&16&&q(N,L[4].description),$e===($e=He(L))&&ce?ce.p(L,J):(ce.d(1),ce=$e(L),ce&&(ce.c(),ce.m(M,null))),Ve===(Ve=tt(L))&&pe?pe.p(L,J):(pe.d(1),pe=Ve(L),pe&&(pe.c(),pe.m(B,null))),_e===(_e=lt(L))&&me?me.p(L,J):(me.d(1),me=_e(L),me&&(me.c(),me.m(D,null))),Me===(Me=nt(L))&&x?x.p(L,J):(x.d(1),x=Me(L),x&&(x.c(),x.m($,null))),J[0]&16&&Ye!==(Ye=!((he=L[4].name)!=null&&he.trim())||!((st=L[4].category)!=null&&st.trim()))&&(Q.disabled=Ye),J[0]&1&&Ae(m,"is-active",L[0]==="name")},i:E,o:E,d(L){L&&w(e),ie.d(),de.d(),t[15](null),ce.d(),pe.d(),me.d(),x.d(),Te=!1,te(xe)}}}function pn(t,e,n){let l,s,i,r,u;G(t,se,$=>n(4,l=$)),G(t,Cl,$=>n(5,s=$)),G(t,Oe,$=>n(6,i=$)),G(t,K,$=>n(28,r=$)),G(t,Ge,$=>n(7,u=$));let c="start",o,d,m="select";A(Ge,u=null,u),A(se,l={startDate:null,endDate:null,name:"",description:"",category:s[0],style:{"background-color":"#00c3ff","border-color":null,"border-width":null}},l);const v=Ge.subscribe($=>{if($){if(c==="start"){A(se,l.startDate=$.startDate,l),n(0,c="end");return}c==="end"&&(A(se,l.endDate=$.endDate,l),n(0,c="name"),o.focus())}});Ol(v);function b(){A(K,r=[...r,l],r),ve("timeSpans",r),A(Oe,i="default",i)}async function h($){$.target.value==="$$createNew"?(A(se,l.category="",l),n(3,m="input"),await Sl(),d.focus()):A(se,l.category=$.target.value,l)}function g($){$.target.value.trim()||(A(se,l.category=s[0],l),n(3,m="select"))}function _($){A(se,l.style[$]=null,l)}const k=()=>A(Oe,i="default",i),C=()=>A(Ge,u={endDate:"ongoing"},u);function U(){l.name=this.value,se.set(l)}function N($){Ie[$?"unshift":"push"](()=>{o=$,n(1,o)})}function P(){l.description=this.value,se.set(l)}function M(){l.category=this.value,se.set(l)}function H($){Ie[$?"unshift":"push"](()=>{d=$,n(2,d)})}function O(){l.style["background-color"]=this.value,se.set(l)}const ne=()=>_("background-color"),R=()=>A(se,l.style["background-color"]="#00c3ff",l);function Z(){l.style["border-color"]=this.value,se.set(l)}const X=()=>_("border-color"),B=()=>A(se,l.style["border-color"]="#000000",l);function V(){l.style["border-width"]=vl(this.value),se.set(l)}return[c,o,d,m,l,s,i,u,b,h,g,_,k,C,U,N,P,M,H,O,ne,R,Z,X,B,V,()=>_("border-width"),()=>A(se,l.style["border-width"]=1,l)]}class _n extends ye{constructor(e){super(),ke(this,e,pn,dn,be,{},null,[-1,-1])}}function mn(t){let e,n,l,s,i;return{c(){e=p("div"),n=p("div"),f(n,"class","week svelte-xcrpqt"),f(n,"style",t[3]),f(e,"class",l=At(t[2])+" svelte-xcrpqt")},m(r,u){S(r,e,u),a(e,n),s||(i=[z(e,"mouseenter",t[9]),z(e,"mouseleave",t[10]),z(e,"click",t[11])],s=!0)},p(r,[u]){u&8&&f(n,"style",r[3]),u&4&&l!==(l=At(r[2])+" svelte-xcrpqt")&&f(e,"class",l)},i:E,o:E,d(r){r&&w(e),s=!1,te(i)}}}function hn(t,e,n){let l,s,i,r,u,c;G(t,se,g=>n(5,l=g)),G(t,ft,g=>n(1,s=g)),G(t,Oe,g=>n(6,i=g)),G(t,K,g=>n(7,r=g)),G(t,dt,g=>n(8,u=g)),G(t,Ge,g=>n(4,c=g));let{week:o}=e,d,m="";const v=()=>A(ft,s=o,s),b=()=>A(ft,s=null,s),h=()=>A(Ge,c=o,c);return t.$$set=g=>{"week"in g&&n(0,o=g.week)},t.$$.update=()=>{if(t.$$.dirty&355){const g={"is-past":u.showPast&&o.endDate<=Ue,"is-now":u.blinkNow&&o.startDate<=Ue&&o.endDate>=Ue,"is-hovered":s&&o.startDate<=s.endDate&&o.endDate>=s.startDate,"is-disabled":Jl(i,l,o)};let _=["week-wrapper"];for(let k in g)g[k]&&_.push(k);for(let k of o.matchedTimeSpans)_.push(k.id);n(2,d=_.join(" "))}t.$$.dirty&129&&n(3,m=rt(yt(o))),t.$$.dirty&99&&(Rl(i,l,s,o)?n(3,m=rt(yt(o,l.style))):n(3,m=rt(yt(o))))},[o,s,d,m,c,l,i,r,u,v,b,h]}class bn extends ye{constructor(e){super(),ke(this,e,hn,mn,be,{week:0})}}function Zt(t,e,n){const l=t.slice();return l[4]=e[n],l}function xt(t,e,n){const l=t.slice();return l[7]=e[n],l}function el(t,e,n){const l=t.slice();return l[7]=e[n],l}function tl(t){let e;return{c(){e=p("div"),e.textContent=`${t[7]+1}`,f(e,"class","label week-label svelte-1xzrcqo")},m(n,l){S(n,e,l)},p:E,d(n){n&&w(e)}}}function ll(t){let e,n;return e=new bn({props:{week:t[7]}}),{c(){ue(e.$$.fragment)},m(l,s){oe(e,l,s),n=!0},p(l,s){const i={};s&1&&(i.week=l[7]),e.$set(i)},i(l){n||(T(e.$$.fragment,l),n=!0)},o(l){F(e.$$.fragment,l),n=!1},d(l){ae(e,l)}}}function nl(t){let e,n,l=t[4].age+"",s,i,r,u,c=le(t[4].weeks),o=[];for(let m=0;m<c.length;m+=1)o[m]=ll(xt(t,c,m));const d=m=>F(o[m],1,1,()=>{o[m]=null});return{c(){e=p("div"),n=p("div"),s=Y(l),i=y();for(let m=0;m<o.length;m+=1)o[m].c();r=y(),f(n,"class","label year-label svelte-1xzrcqo"),f(e,"class","year svelte-1xzrcqo")},m(m,v){S(m,e,v),a(e,n),a(n,s),a(e,i);for(let b=0;b<o.length;b+=1)o[b]&&o[b].m(e,null);a(e,r),u=!0},p(m,v){if((!u||v&1)&&l!==(l=m[4].age+"")&&re(s,l),v&1){c=le(m[4].weeks);let b;for(b=0;b<c.length;b+=1){const h=xt(m,c,b);o[b]?(o[b].p(h,v),T(o[b],1)):(o[b]=ll(h),o[b].c(),T(o[b],1),o[b].m(e,r))}for(we(),b=c.length;b<o.length;b+=1)d(b);Se()}},i(m){if(!u){for(let v=0;v<c.length;v+=1)T(o[v]);u=!0}},o(m){o=o.filter(Boolean);for(let v=0;v<o.length;v+=1)F(o[v]);u=!1},d(m){m&&w(e),ze(o,m)}}}function gn(t){let e,n,l,s,i,r,u,c,o=le([...Array(52).keys()]),d=[];for(let h=0;h<o.length;h+=1)d[h]=tl(el(t,o,h));let m=le(t[0]),v=[];for(let h=0;h<m.length;h+=1)v[h]=nl(Zt(t,m,h));const b=h=>F(v[h],1,1,()=>{v[h]=null});return{c(){e=p("div"),n=p("div"),n.innerHTML='<div class="year-label svelte-1xzrcqo"> </div> <div style="flex: 1">weeks</div>',l=y(),s=p("div"),i=p("div"),i.textContent="age ↓",r=y();for(let h=0;h<d.length;h+=1)d[h].c();u=y();for(let h=0;h<v.length;h+=1)v[h].c();f(n,"class","year svelte-1xzrcqo"),f(i,"class","label year-label svelte-1xzrcqo"),f(s,"class","year svelte-1xzrcqo"),f(e,"class","life svelte-1xzrcqo")},m(h,g){S(h,e,g),a(e,n),a(e,l),a(e,s),a(s,i),a(s,r);for(let _=0;_<d.length;_+=1)d[_]&&d[_].m(s,null);a(e,u);for(let _=0;_<v.length;_+=1)v[_]&&v[_].m(e,null);c=!0},p(h,[g]){if(g&0){o=le([...Array(52).keys()]);let _;for(_=0;_<o.length;_+=1){const k=el(h,o,_);d[_]?d[_].p(k,g):(d[_]=tl(k),d[_].c(),d[_].m(s,null))}for(;_<d.length;_+=1)d[_].d(1);d.length=o.length}if(g&1){m=le(h[0]);let _;for(_=0;_<m.length;_+=1){const k=Zt(h,m,_);v[_]?(v[_].p(k,g),T(v[_],1)):(v[_]=nl(k),v[_].c(),T(v[_],1),v[_].m(e,null))}for(we(),_=m.length;_<v.length;_+=1)b(_);Se()}},i(h){if(!c){for(let g=0;g<m.length;g+=1)T(v[g]);c=!0}},o(h){v=v.filter(Boolean);for(let g=0;g<v.length;g+=1)F(v[g]);c=!1},d(h){h&&w(e),ze(d,h),ze(v,h)}}}function vn(t,e,n){let l,s;G(t,K,u=>n(2,l=u)),G(t,_t,u=>n(3,s=u));let i,r;return t.$$.update=()=>{if(t.$$.dirty&10&&(n(1,i=new Date(s)),n(0,r=Hl(i))),t.$$.dirty&5)for(let u of r)for(let c of u.weeks){c.matchedTimeSpans=[];for(let o of l)c.startDate<(o.endDate==="ongoing"?Ue:o.endDate)&&c.endDate>o.startDate&&(c.matchedTimeSpans=[...c.matchedTimeSpans,o])}},[r,i,l,s]}class kn extends ye{constructor(e){super(),ke(this,e,vn,gn,be,{})}}function yn(t){let e,n,l,s,i,r,u,c,o,d,m,v,b,h,g,_,k,C,U,N,P,M,H,O,ne,R,Z,X,B,V,D,j,$;return{c(){e=p("div"),n=p("div"),n.textContent="Settings",l=y(),s=p("a"),i=y(),r=p("div"),u=p("label"),c=p("input"),o=Y(" Paint past weeks in gray"),d=y(),m=p("label"),v=p("input"),b=Y(" Blink current week"),h=y(),g=p("div"),g.textContent="Export",_=y(),k=p("div"),C=p("p"),C.textContent="Export your data to a .json file",U=y(),N=p("button"),N.textContent="Export to file",P=y(),M=p("div"),M.textContent="Import",H=y(),O=p("div"),ne=p("p"),ne.textContent="Import your data from a previously exported .json file",R=y(),Z=p("p"),Z.innerHTML=`<strong>WARNING: All current data will be irreversibly overwritten
        by the contents of the import file.</strong>`,X=y(),B=p("button"),B.textContent="Import from file",V=y(),D=p("input"),f(n,"class","title svelte-1w46dm1"),f(s,"class","close svelte-1w46dm1"),f(c,"type","checkbox"),f(u,"class","svelte-1w46dm1"),f(v,"type","checkbox"),f(m,"class","svelte-1w46dm1"),f(r,"class","checkboxes svelte-1w46dm1"),f(g,"class","title svelte-1w46dm1"),f(C,"class","small svelte-1w46dm1"),f(k,"class","impex svelte-1w46dm1"),f(M,"class","title svelte-1w46dm1"),f(ne,"class","small svelte-1w46dm1"),f(Z,"class","small svelte-1w46dm1"),f(D,"type","file"),Tl(D,"display","none"),f(O,"class","impex svelte-1w46dm1"),f(e,"class","settings svelte-1w46dm1")},m(W,Q){S(W,e,Q),a(e,n),a(e,l),a(e,s),s.innerHTML=mt,a(e,i),a(e,r),a(r,u),a(u,c),c.checked=t[0].showPast,a(u,o),a(r,d),a(r,m),a(m,v),v.checked=t[0].blinkNow,a(m,b),a(e,h),a(e,g),a(e,_),a(e,k),a(k,C),a(k,U),a(k,N),a(e,P),a(e,M),a(e,H),a(e,O),a(O,ne),a(O,R),a(O,Z),a(O,X),a(O,B),a(O,V),a(O,D),t[8](D),t[9](e),j||($=[z(s,"click",t[3]),z(c,"change",t[6]),z(v,"change",t[7]),z(N,"click",t[4]),z(B,"click",t[5])],j=!0)},p(W,[Q]){Q&1&&(c.checked=W[0].showPast),Q&1&&(v.checked=W[0].blinkNow)},i:E,o:E,d(W){W&&w(e),t[8](null),t[9](null),j=!1,te($)}}}function wn(t,e,n){let l,s;G(t,dt,h=>n(0,l=h)),G(t,pt,h=>n(10,s=h));let i,r;function u(h){A(pt,s=!1,s)}function c(){const h={dateOfBirth:Ne("dateOfBirth"),timeSpans:Ne("timeSpans"),settings:Ne("settings")},g=document.createElement("a");g.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(JSON.stringify(h))),g.setAttribute("download","your-life.json"),g.style.display="none",document.body.appendChild(g),g.click(),document.body.removeChild(g)}Ml(()=>{r.addEventListener("change",h=>{const g=new FileReader;g.addEventListener("load",_=>{try{const k=JSON.parse(_.target.result);ve("dateOfBirth",k.dateOfBirth),ve("timeSpans",k.timeSpans),ve("settings",k.settings),alert("Import successful. Reloading page."),location.reload()}catch(k){alert("Error importing file: "+k.message)}}),g.readAsText(h.target.files[0],"UTF-8")})});function o(){window.confirm("Do you really want to irreversibly overwrite your current data?")&&r.click()}function d(){l.showPast=this.checked,dt.set(l)}function m(){l.blinkNow=this.checked,dt.set(l)}function v(h){Ie[h?"unshift":"push"](()=>{r=h,n(2,r)})}function b(h){Ie[h?"unshift":"push"](()=>{i=h,n(1,i)})}return t.$$.update=()=>{t.$$.dirty&1&&ve("settings",l)},[l,i,r,u,c,o,d,m,v,b]}class Sn extends ye{constructor(e){super(),ke(this,e,wn,yn,be,{})}}const $n='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!-- Font Awesome Free 5.15.3 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"/></svg>',Cn='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.3 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"/></svg>',Dn='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.3 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"/></svg>',zn='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.3 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"/></svg>';function sl(t,e,n){const l=t.slice();return l[10]=e[n],l[12]=n,l}function Nn(t){let e,n,l;function s(){return t[8](t[12])}return{c(){e=p("button"),f(e,"class","svelte-u91456")},m(i,r){S(i,e,r),e.innerHTML=Dn,n||(l=z(e,"click",s),n=!0)},p(i,r){t=i},d(i){i&&w(e),n=!1,l()}}}function il(t){let e,n,l;function s(){return t[9](t[12])}return{c(){e=p("button"),f(e,"class","svelte-u91456")},m(i,r){S(i,e,r),e.innerHTML=zn,n||(l=z(e,"click",s),n=!0)},p(i,r){t=i},d(i){i&&w(e),n=!1,l()}}}function rl(t){let e,n,l,s,i,r,u,c,o,d,m,v,b;n=new Dl({props:{timeSpan:t[10]}});function h(){return t[6](t[12])}function g(){return t[7](t[12])}let _=t[12]>0&&Nn(t),k=t[12]<t[0].length-1&&il(t);return{c(){e=p("div"),ue(n.$$.fragment),l=y(),s=p("div"),i=p("button"),r=y(),u=p("button"),c=y(),_&&_.c(),o=y(),k&&k.c(),d=y(),f(i,"class","svelte-u91456"),f(u,"class","svelte-u91456"),f(s,"class","buttons svelte-u91456"),f(e,"class","list-item svelte-u91456")},m(C,U){S(C,e,U),oe(n,e,null),a(e,l),a(e,s),a(s,i),i.innerHTML=$n,a(s,r),a(s,u),u.innerHTML=Cn,a(s,c),_&&_.m(s,null),a(s,o),k&&k.m(s,null),a(e,d),m=!0,v||(b=[z(i,"click",h),z(u,"click",g)],v=!0)},p(C,U){t=C;const N={};U&1&&(N.timeSpan=t[10]),n.$set(N),t[12]>0&&_.p(t,U),t[12]<t[0].length-1?k?k.p(t,U):(k=il(t),k.c(),k.m(s,null)):k&&(k.d(1),k=null)},i(C){m||(T(n.$$.fragment,C),m=!0)},o(C){F(n.$$.fragment,C),m=!1},d(C){C&&w(e),ae(n),_&&_.d(),k&&k.d(),v=!1,te(b)}}}function In(t){let e,n,l,s,i,r,u,c,o,d,m,v=le(t[0]),b=[];for(let g=0;g<v.length;g+=1)b[g]=rl(sl(t,v,g));const h=g=>F(b[g],1,1,()=>{b[g]=null});return{c(){e=p("div"),n=p("div"),n.textContent="Edit time spans",l=y(),s=p("p"),s.textContent='For overlapping time spans, styles farther down will appear "on top".',i=y(),r=p("a"),u=y(),c=p("div");for(let g=0;g<b.length;g+=1)b[g].c();f(n,"class","title svelte-u91456"),f(s,"class","info svelte-u91456"),f(r,"class","close svelte-u91456"),f(c,"class","spans-list svelte-u91456"),Ae(c,"is-disabled",t[2]!==null),f(e,"class","edit-time-spans svelte-u91456")},m(g,_){S(g,e,_),a(e,n),a(e,l),a(e,s),a(e,i),a(e,r),r.innerHTML=mt,a(e,u),a(e,c);for(let k=0;k<b.length;k+=1)b[k]&&b[k].m(c,null);o=!0,d||(m=z(r,"click",t[5]),d=!0)},p(g,[_]){if(_&29){v=le(g[0]);let k;for(k=0;k<v.length;k+=1){const C=sl(g,v,k);b[k]?(b[k].p(C,_),T(b[k],1)):(b[k]=rl(C),b[k].c(),T(b[k],1),b[k].m(c,null))}for(we(),k=v.length;k<b.length;k+=1)h(k);Se()}(!o||_&4)&&Ae(c,"is-disabled",g[2]!==null)},i(g){if(!o){for(let _=0;_<v.length;_+=1)T(b[_]);o=!0}},o(g){b=b.filter(Boolean);for(let _=0;_<b.length;_+=1)F(b[_]);o=!1},d(g){g&&w(e),ze(b,g),d=!1,m()}}}function Ln(t,e,n){let l,s,i;G(t,K,b=>n(0,l=b)),G(t,Oe,b=>n(1,s=b)),G(t,Ze,b=>n(2,i=b));function r(b,h){A(K,[l[b+h],l[b]]=[l[b],l[b+h]],l),ve("timeSpans",l)}function u(b){window.confirm("Really delete?")&&(A(K,l=[...l.slice(0,b),...l.slice(b+1)],l),ve("timeSpans",l))}return[l,s,i,r,u,()=>A(Oe,s="default",s),b=>A(Ze,i=b,i),b=>u(b),b=>r(b,-1),b=>r(b,1)]}class Tn extends ye{constructor(e){super(),ke(this,e,Ln,In,be,{})}}function ol(t,e,n){const l=t.slice();return l[29]=e[n],l}function Mn(t){let e,n,l,s,i,r,u,c;function o(m){t[13](m)}let d={startYear:parseInt(t[5].substr(0,4))};return t[3][t[2]].endDate!==void 0&&(d.dateString=t[3][t[2]].endDate),e=new Tt({props:d}),Ie.push(()=>Lt(e,"dateString",o)),{c(){ue(e.$$.fragment),l=p("br"),s=y(),i=p("a"),i.textContent="set to ongoing",f(i,"href","#"),f(i,"class","small-link svelte-2szal3")},m(m,v){oe(e,m,v),S(m,l,v),S(m,s,v),S(m,i,v),r=!0,u||(c=z(i,"click",fe(t[14])),u=!0)},p(m,v){const b={};v[0]&32&&(b.startYear=parseInt(m[5].substr(0,4))),!n&&v[0]&12&&(n=!0,b.dateString=m[3][m[2]].endDate,It(()=>n=!1)),e.$set(b)},i(m){r||(T(e.$$.fragment,m),r=!0)},o(m){F(e.$$.fragment,m),r=!1},d(m){m&&(w(l),w(s),w(i)),ae(e,m),u=!1,c()}}}function On(t){let e,n,l,s;return{c(){e=Y("ongoing "),n=p("a"),n.textContent="set a date",f(n,"href","#"),f(n,"class","small-link svelte-2szal3")},m(i,r){S(i,e,r),S(i,n,r),l||(s=z(n,"click",fe(t[12])),l=!0)},p:E,i:E,o:E,d(i){i&&(w(e),w(n)),l=!1,s()}}}function Bn(t){let e,n,l;return{c(){e=p("input"),f(e,"id","category"),f(e,"class","svelte-2szal3")},m(s,i){S(s,e,i),q(e,t[3][t[2]].category),t[18](e),n||(l=[z(e,"input",t[17]),z(e,"blur",t[9])],n=!0)},p(s,i){i[0]&28&&e.value!==s[3][s[2]].category&&q(e,s[3][s[2]].category)},d(s){s&&w(e),t[18](null),n=!1,te(l)}}}function En(t){let e,n,l,s,i,r=le(t[4]),u=[];for(let c=0;c<r.length;c+=1)u[c]=al(ol(t,r,c));return{c(){e=p("select");for(let c=0;c<u.length;c+=1)u[c].c();n=p("option"),n.textContent="Create new category...",n.__value="$$createNew",q(n,n.__value),f(e,"id","category")},m(c,o){S(c,e,o);for(let d=0;d<u.length;d+=1)u[d]&&u[d].m(e,null);a(e,n),Ee(e,t[3][t[2]].category),s||(i=z(e,"change",t[8]),s=!0)},p(c,o){if(o[0]&16){r=le(c[4]);let d;for(d=0;d<r.length;d+=1){const m=ol(c,r,d);u[d]?u[d].p(m,o):(u[d]=al(m),u[d].c(),u[d].m(e,n))}for(;d<u.length;d+=1)u[d].d(1);u.length=r.length}o[0]&28&&l!==(l=c[3][c[2]].category)&&Ee(e,c[3][c[2]].category)},d(c){c&&w(e),ze(u,c),s=!1,i()}}}function al(t){let e,n=t[29]+"",l,s;return{c(){e=p("option"),l=Y(n),e.__value=s=t[29],q(e,e.__value)},m(i,r){S(i,e,r),a(e,l)},p(i,r){r[0]&16&&n!==(n=i[29]+"")&&re(l,n),r[0]&16&&s!==(s=i[29])&&(e.__value=s,q(e,e.__value))},d(i){i&&w(e)}}}function An(t){let e,n,l;return{c(){e=p("a"),e.textContent="Set background color",f(e,"href","#"),f(e,"class","svelte-2szal3")},m(s,i){S(s,e,i),n||(l=z(e,"click",fe(t[21])),n=!0)},p:E,d(s){s&&w(e),n=!1,l()}}}function Fn(t){let e,n,l,s,i,r,u,c;return{c(){e=p("input"),n=y(),l=p("div"),s=p("label"),s.textContent="Background color",i=y(),r=p("a"),r.textContent="unset",f(e,"type","color"),f(e,"id","bg-color"),f(e,"class","svelte-2szal3"),f(s,"for","bg-color"),f(r,"href","#"),f(r,"class","svelte-2szal3")},m(o,d){S(o,e,d),q(e,t[3][t[2]].style["background-color"]),S(o,n,d),S(o,l,d),a(l,s),a(l,i),a(l,r),u||(c=[z(e,"input",t[19]),z(r,"click",fe(t[20]))],u=!0)},p(o,d){d[0]&28&&q(e,o[3][o[2]].style["background-color"])},d(o){o&&(w(e),w(n),w(l)),u=!1,te(c)}}}function Yn(t){let e,n,l;return{c(){e=p("a"),e.textContent="Set border color",f(e,"href","#"),f(e,"class","svelte-2szal3")},m(s,i){S(s,e,i),n||(l=z(e,"click",fe(t[24])),n=!0)},p:E,d(s){s&&w(e),n=!1,l()}}}function Pn(t){let e,n,l,s,i,r,u,c;return{c(){e=p("input"),n=y(),l=p("div"),s=p("label"),s.textContent="Border color",i=y(),r=p("a"),r.textContent="unset",f(e,"type","color"),f(e,"id","b-color"),f(e,"class","svelte-2szal3"),f(s,"for","b-color"),f(r,"href","#"),f(r,"class","svelte-2szal3")},m(o,d){S(o,e,d),q(e,t[3][t[2]].style["border-color"]),S(o,n,d),S(o,l,d),a(l,s),a(l,i),a(l,r),u||(c=[z(e,"input",t[22]),z(r,"click",fe(t[23]))],u=!0)},p(o,d){d[0]&28&&q(e,o[3][o[2]].style["border-color"])},d(o){o&&(w(e),w(n),w(l)),u=!1,te(c)}}}function Hn(t){let e,n,l;return{c(){e=p("a"),e.textContent="Set border width",f(e,"href","#"),f(e,"class","svelte-2szal3")},m(s,i){S(s,e,i),n||(l=z(e,"click",fe(t[27])),n=!0)},p:E,d(s){s&&w(e),n=!1,l()}}}function qn(t){let e,n,l,s,i,r,u,c;return{c(){e=p("input"),n=y(),l=p("div"),s=p("label"),s.textContent="Border width",i=y(),r=p("a"),r.textContent="unset",f(e,"type","range"),f(e,"min","0"),f(e,"max","9"),f(e,"id","b-width"),f(e,"class","svelte-2szal3"),f(s,"for","b-width"),f(r,"href","#"),f(r,"class","svelte-2szal3")},m(o,d){S(o,e,d),q(e,t[3][t[2]].style["border-width"]),S(o,n,d),S(o,l,d),a(l,s),a(l,i),a(l,r),u||(c=[z(e,"change",t[25]),z(e,"input",t[25]),z(r,"click",fe(t[26]))],u=!0)},p(o,d){d[0]&28&&q(e,o[3][o[2]].style["border-width"])},d(o){o&&(w(e),w(n),w(l)),u=!1,te(c)}}}function Wn(t){let e,n,l,s,i,r,u,c,o,d,m,v,b,h,g,_,k,C,U,N,P,M,H,O,ne,R,Z,X,B,V,D,j,$,W,Q,Fe,Ye,Te,xe,Be,Pe,ie,et,ge,de,He,$e,ce,tt;function Ve(I){t[11](I)}let pe={startYear:parseInt(t[5].substr(0,4))};t[3][t[2]].startDate!==void 0&&(pe.dateString=t[3][t[2]].startDate),d=new Tt({props:pe}),Ie.push(()=>Lt(d,"dateString",Ve));const lt=[On,Mn],_e=[];function me(I,ee){return I[3][I[2]].endDate==="ongoing"?0:1}k=me(t),C=_e[k]=lt[k](t);function nt(I,ee){return I[1]==="select"?En:Bn}let Me=nt(t),x=Me(t);function L(I,ee){return I[3][I[2]].style["background-color"]!==null?Fn:An}let J=L(t),he=J(t);function st(I,ee){return I[3][I[2]].style["border-color"]!==null?Pn:Yn}let at=st(t),Ce=at(t);function Mt(I,ee){return I[3][I[2]].style["border-width"]!==null?qn:Hn}let ct=Mt(t),De=ct(t);return{c(){var I,ee;e=p("div"),n=p("div"),n.textContent="Change time span",l=y(),s=p("a"),i=y(),r=p("div"),u=p("div"),c=p("div"),c.textContent="Start",o=y(),ue(d.$$.fragment),v=y(),b=p("div"),h=p("div"),g=p("div"),g.textContent="End",_=y(),C.c(),U=y(),N=p("div"),P=p("div"),M=p("label"),M.textContent="Name",H=y(),O=p("input"),ne=y(),R=p("div"),Z=p("label"),Z.textContent="Description",X=y(),B=p("textarea"),V=y(),D=p("div"),j=p("label"),j.textContent="Category",$=y(),x.c(),W=y(),Q=p("div"),Fe=p("div"),Fe.textContent="Styling",Ye=y(),Te=p("div"),he.c(),xe=y(),Be=p("div"),Ce.c(),Pe=y(),ie=p("div"),De.c(),et=y(),ge=p("button"),de=Y("Save changes"),f(n,"class","title svelte-2szal3"),f(s,"class","close svelte-2szal3"),f(c,"class","substep-head svelte-2szal3"),f(u,"class","substep svelte-2szal3"),f(r,"class","step"),f(g,"class","substep-head svelte-2szal3"),f(h,"class","substep svelte-2szal3"),f(b,"class","step"),f(M,"class","substep-head svelte-2szal3"),f(M,"for","name"),f(O,"id","name"),f(O,"class","svelte-2szal3"),f(P,"class","substep svelte-2szal3"),f(Z,"class","substep-head svelte-2szal3"),f(Z,"for","description"),f(B,"id","description"),f(B,"rows","3"),f(B,"class","svelte-2szal3"),f(R,"class","substep svelte-2szal3"),f(j,"class","substep-head svelte-2szal3"),f(j,"for","category"),f(D,"class","substep svelte-2szal3"),f(Fe,"class","substep-head svelte-2szal3"),f(Te,"class","style-row svelte-2szal3"),f(Be,"class","style-row svelte-2szal3"),f(ie,"class","style-row svelte-2szal3"),f(Q,"class","substep svelte-2szal3"),f(ge,"class","create-button svelte-2szal3"),ge.disabled=He=!((I=t[3][t[2]].name)!=null&&I.trim())||!((ee=t[3][t[2]].category)!=null&&ee.trim()),f(N,"class","step"),f(e,"class","edit-time-span svelte-2szal3")},m(I,ee){S(I,e,ee),a(e,n),a(e,l),a(e,s),s.innerHTML=mt,a(e,i),a(e,r),a(r,u),a(u,c),a(u,o),oe(d,u,null),a(e,v),a(e,b),a(b,h),a(h,g),a(h,_),_e[k].m(h,null),a(e,U),a(e,N),a(N,P),a(P,M),a(P,H),a(P,O),q(O,t[3][t[2]].name),a(N,ne),a(N,R),a(R,Z),a(R,X),a(R,B),q(B,t[3][t[2]].description),a(N,V),a(N,D),a(D,j),a(D,$),x.m(D,null),a(N,W),a(N,Q),a(Q,Fe),a(Q,Ye),a(Q,Te),he.m(Te,null),a(Q,xe),a(Q,Be),Ce.m(Be,null),a(Q,Pe),a(Q,ie),De.m(ie,null),a(N,et),a(N,ge),a(ge,de),$e=!0,ce||(tt=[z(s,"click",t[7]),z(O,"input",t[15]),z(B,"input",t[16]),z(ge,"click",t[6])],ce=!0)},p(I,ee){var Ot,Bt;const ht={};ee[0]&32&&(ht.startYear=parseInt(I[5].substr(0,4))),!m&&ee[0]&12&&(m=!0,ht.dateString=I[3][I[2]].startDate,It(()=>m=!1)),d.$set(ht);let bt=k;k=me(I),k===bt?_e[k].p(I,ee):(we(),F(_e[bt],1,1,()=>{_e[bt]=null}),Se(),C=_e[k],C?C.p(I,ee):(C=_e[k]=lt[k](I),C.c()),T(C,1),C.m(h,null)),ee[0]&28&&O.value!==I[3][I[2]].name&&q(O,I[3][I[2]].name),ee[0]&28&&q(B,I[3][I[2]].description),Me===(Me=nt(I))&&x?x.p(I,ee):(x.d(1),x=Me(I),x&&(x.c(),x.m(D,null))),J===(J=L(I))&&he?he.p(I,ee):(he.d(1),he=J(I),he&&(he.c(),he.m(Te,null))),at===(at=st(I))&&Ce?Ce.p(I,ee):(Ce.d(1),Ce=at(I),Ce&&(Ce.c(),Ce.m(Be,null))),ct===(ct=Mt(I))&&De?De.p(I,ee):(De.d(1),De=ct(I),De&&(De.c(),De.m(ie,null))),(!$e||ee[0]&28&&He!==(He=!((Ot=I[3][I[2]].name)!=null&&Ot.trim())||!((Bt=I[3][I[2]].category)!=null&&Bt.trim())))&&(ge.disabled=He)},i(I){$e||(T(d.$$.fragment,I),T(C),$e=!0)},o(I){F(d.$$.fragment,I),F(C),$e=!1},d(I){I&&w(e),ae(d),_e[k].d(),x.d(),he.d(),Ce.d(),De.d(),ce=!1,te(tt)}}}function jn(t,e,n){let l,s,i,r;G(t,Ze,D=>n(2,l=D)),G(t,K,D=>n(3,s=D)),G(t,Cl,D=>n(4,i=D)),G(t,_t,D=>n(5,r=D));let u,c="select";function o(){ve("timeSpans",s),A(Ze,l=null,l)}function d(){A(K,s=Ne("timeSpans"),s),A(Ze,l=null,l)}async function m(D){D.target.value==="$$createNew"?(A(K,s[l].category="",s),n(1,c="input"),await Sl(),u.focus()):A(K,s[l].category=D.target.value,s)}function v(D){D.target.value.trim()||(A(K,s[l].category=i[0],s),n(1,c="select"))}function b(D){A(K,s[l].style[D]=null,s)}function h(D){t.$$.not_equal(s[l].startDate,D)&&(s[l].startDate=D,K.set(s))}const g=()=>A(K,s[l].endDate=Ue,s);function _(D){t.$$.not_equal(s[l].endDate,D)&&(s[l].endDate=D,K.set(s))}const k=()=>A(K,s[l].endDate="ongoing",s);function C(){s[l].name=this.value,K.set(s)}function U(){s[l].description=this.value,K.set(s)}function N(){s[l].category=this.value,K.set(s)}function P(D){Ie[D?"unshift":"push"](()=>{u=D,n(0,u)})}function M(){s[l].style["background-color"]=this.value,K.set(s)}const H=()=>b("background-color"),O=()=>A(K,s[l].style["background-color"]="#00c3ff",s);function ne(){s[l].style["border-color"]=this.value,K.set(s)}const R=()=>b("border-color"),Z=()=>A(K,s[l].style["border-color"]="#000000",s);function X(){s[l].style["border-width"]=vl(this.value),K.set(s)}return[u,c,l,s,i,r,o,d,m,v,b,h,g,_,k,C,U,N,P,M,H,O,ne,R,Z,X,()=>b("border-width"),()=>A(K,s[l].style["border-width"]=1,s)]}class Un extends ye{constructor(e){super(),ke(this,e,jn,Wn,be,{},null,[-1,-1])}}function cl(t){let e,n,l,s,i,r,u,c,o,d;return{c(){e=p("div"),n=Y(`I do not collect or store any of your personal data.
    Everything is saved in your browser’s memory for your eyes only.`),l=p("br"),s=y(),i=p("strong"),i.textContent="If you delete your cookies, all will be gone.",r=p("br"),u=y(),c=p("button"),c.textContent="Ok",f(c,"class","svelte-wdsbrl"),f(e,"class","prv-notice svelte-wdsbrl")},m(m,v){S(m,e,v),a(e,n),a(e,l),a(e,s),a(e,i),a(e,r),a(e,u),a(e,c),o||(d=z(c,"click",t[4]),o=!0)},p:E,d(m){m&&w(e),o=!1,d()}}}function ul(t){let e,n,l,s,i,r,u;return{c(){e=p("div"),n=Y(`While this app should theoretically work on mobile devices,
    you'll have a much better experience on screens with at least 1280 pixels in width.`),l=p("br"),s=y(),i=p("button"),i.textContent="Ok",f(i,"class","svelte-wdsbrl"),f(e,"class","mobile-notice svelte-wdsbrl")},m(c,o){S(c,e,o),a(e,n),a(e,l),a(e,s),a(e,i),r||(u=z(i,"click",t[3]),r=!0)},p:E,d(c){c&&w(e),r=!1,u()}}}function fl(t){let e,n,l,s,i,r,u,c,o,d,m,v,b,h;return{c(){e=p("div"),n=p("div"),n.textContent=`Update ${Dt}`,l=y(),s=p("p"),s.textContent="Hey!",i=y(),r=p("p"),r.textContent=`Thanks for still using my app after all these years. :)
      I'm hoping you have a good time keeping track of your life!`,u=y(),c=p("p"),c.innerHTML=`This little update just includes some internal technical changes and updates
      of dependencies.<br/>
      I also got rid of the visitor counter &quot;plausible&quot;.`,o=y(),d=p("p"),d.textContent="For feedback, write me an email to mail (at) heiko-salmon (dot) de",m=y(),v=p("button"),v.textContent="Hide until next update",f(n,"class","update-head svelte-wdsbrl"),f(e,"class","update-notice svelte-wdsbrl")},m(g,_){S(g,e,_),a(e,n),a(e,l),a(e,s),a(e,i),a(e,r),a(e,u),a(e,c),a(e,o),a(e,d),a(e,m),a(e,v),b||(h=z(v,"click",t[5]),b=!0)},p:E,d(g){g&&w(e),b=!1,h()}}}function Vn(t){let e,n,l,s=!t[1]&&cl(t),i=!t[0]&&ul(t),r=t[2]&&fl(t);return{c(){s&&s.c(),e=y(),i&&i.c(),n=y(),r&&r.c(),l=Nt()},m(u,c){s&&s.m(u,c),S(u,e,c),i&&i.m(u,c),S(u,n,c),r&&r.m(u,c),S(u,l,c)},p(u,[c]){u[1]?s&&(s.d(1),s=null):s?s.p(u,c):(s=cl(u),s.c(),s.m(e.parentNode,e)),u[0]?i&&(i.d(1),i=null):i?i.p(u,c):(i=ul(u),i.c(),i.m(n.parentNode,n)),u[2]?r?r.p(u,c):(r=fl(u),r.c(),r.m(l.parentNode,l)):r&&(r.d(1),r=null)},i:E,o:E,d(u){u&&(w(e),w(n),w(l)),s&&s.d(u),i&&i.d(u),r&&r.d(u)}}}let Dt="2024-04-05";function Rn(t,e,n){let l=Ne("hideMobileNotice"),s=Ne("hidePrivacyNotice"),i=Ne("hideUpdatesUntil"),r=!i||i<Dt;function u(){n(0,l=!0),ve("hideMobileNotice",!0)}function c(){n(1,s=!0),ve("hidePrivacyNotice",!0)}function o(){n(2,r=!1),ve("hideUpdatesUntil",Dt)}return[l,s,r,u,c,o]}class Jn extends ye{constructor(e){super(),ke(this,e,Rn,Vn,be,{})}}function dl(t){let e,n,l,s;return{c(){e=p("div"),n=p("button"),n.textContent="Edit time spans",f(n,"class","svelte-1hdjrr7")},m(i,r){S(i,e,r),a(e,n),l||(s=z(n,"click",wt(t[5])),l=!0)},p:E,d(i){i&&w(e),l=!1,s()}}}function pl(t){let e,n;return e=new Sn({}),{c(){ue(e.$$.fragment)},m(l,s){oe(e,l,s),n=!0},i(l){n||(T(e.$$.fragment,l),n=!0)},o(l){F(e.$$.fragment,l),n=!1},d(l){ae(e,l)}}}function _l(t){let e,n;return e=new _n({}),{c(){ue(e.$$.fragment)},m(l,s){oe(e,l,s),n=!0},i(l){n||(T(e.$$.fragment,l),n=!0)},o(l){F(e.$$.fragment,l),n=!1},d(l){ae(e,l)}}}function ml(t){let e,n;return e=new Tn({}),{c(){ue(e.$$.fragment)},m(l,s){oe(e,l,s),n=!0},i(l){n||(T(e.$$.fragment,l),n=!0)},o(l){F(e.$$.fragment,l),n=!1},d(l){ae(e,l)}}}function hl(t){let e,n;return e=new Un({}),{c(){ue(e.$$.fragment)},m(l,s){oe(e,l,s),n=!0},i(l){n||(T(e.$$.fragment,l),n=!0)},o(l){F(e.$$.fragment,l),n=!1},d(l){ae(e,l)}}}function Kn(t){let e,n,l,s,i,r,u,c,o,d,m,v,b,h,g,_,k,C,U,N,P,M,H,O,ne,R,Z;r=new Vl({});let X=t[1].length&&dl(t);_=new kn({}),C=new Zl({});let B=t[2]&&pl(),V=t[0]==="create-time-span"&&_l(),D=t[0]==="edit-time-spans"&&ml(),j=t[3]!==null&&hl();return O=new Jn({}),{c(){e=p("main"),n=p("h1"),n.textContent="YOUR LIFE",l=y(),s=p("p"),s.innerHTML=`Wonder what this is? Look at
    <a href="https://waitbutwhy.com/2014/05/life-weeks.html" target="_blank">this blog post by Wait But Why</a>
    and
    <a href="https://www.youtube.com/watch?v=JXeJANDKwDc" target="_blank">this video by Kurzgesagt</a>.
    I&#39;m not affiliated with either.`,i=y(),ue(r.$$.fragment),u=y(),c=p("div"),o=p("div"),d=p("button"),d.textContent="Create time span",m=y(),X&&X.c(),v=y(),b=p("div"),h=p("button"),h.textContent="Settings",g=y(),ue(_.$$.fragment),k=y(),ue(C.$$.fragment),U=y(),B&&B.c(),N=y(),V&&V.c(),P=y(),D&&D.c(),M=y(),j&&j.c(),H=y(),ue(O.$$.fragment),f(n,"class","title svelte-1hdjrr7"),f(s,"class","info svelte-1hdjrr7"),f(d,"class","svelte-1hdjrr7"),f(c,"class","create-button-wrapper svelte-1hdjrr7"),f(b,"class","settings-button-wrapper svelte-1hdjrr7"),f(e,"class","svelte-1hdjrr7")},m($,W){S($,e,W),a(e,n),a(e,l),a(e,s),a(e,i),oe(r,e,null),a(e,u),a(e,c),a(c,o),a(o,d),a(c,m),X&&X.m(c,null),a(e,v),a(e,b),a(b,h),a(e,g),oe(_,e,null),S($,k,W),oe(C,$,W),S($,U,W),B&&B.m($,W),S($,N,W),V&&V.m($,W),S($,P,W),D&&D.m($,W),S($,M,W),j&&j.m($,W),S($,H,W),oe(O,$,W),ne=!0,R||(Z=[z(d,"click",wt(t[4])),z(h,"click",wt(t[6]))],R=!0)},p($,[W]){$[1].length?X?X.p($,W):(X=dl($),X.c(),X.m(c,null)):X&&(X.d(1),X=null),$[2]?B?W&4&&T(B,1):(B=pl(),B.c(),T(B,1),B.m(N.parentNode,N)):B&&(we(),F(B,1,1,()=>{B=null}),Se()),$[0]==="create-time-span"?V?W&1&&T(V,1):(V=_l(),V.c(),T(V,1),V.m(P.parentNode,P)):V&&(we(),F(V,1,1,()=>{V=null}),Se()),$[0]==="edit-time-spans"?D?W&1&&T(D,1):(D=ml(),D.c(),T(D,1),D.m(M.parentNode,M)):D&&(we(),F(D,1,1,()=>{D=null}),Se()),$[3]!==null?j?W&8&&T(j,1):(j=hl(),j.c(),T(j,1),j.m(H.parentNode,H)):j&&(we(),F(j,1,1,()=>{j=null}),Se())},i($){ne||(T(r.$$.fragment,$),T(_.$$.fragment,$),T(C.$$.fragment,$),T(B),T(V),T(D),T(j),T(O.$$.fragment,$),ne=!0)},o($){F(r.$$.fragment,$),F(_.$$.fragment,$),F(C.$$.fragment,$),F(B),F(V),F(D),F(j),F(O.$$.fragment,$),ne=!1},d($){$&&(w(e),w(k),w(U),w(N),w(P),w(M),w(H)),ae(r),X&&X.d(),ae(_),ae(C,$),B&&B.d($),V&&V.d($),D&&D.d($),j&&j.d($),ae(O,$),R=!1,te(Z)}}}function Gn(t,e,n){let l,s,i,r;return G(t,Oe,d=>n(0,l=d)),G(t,K,d=>n(1,s=d)),G(t,pt,d=>n(2,i=d)),G(t,Ze,d=>n(3,r=d)),[l,s,i,r,()=>A(Oe,l="create-time-span",l),()=>A(Oe,l="edit-time-spans",l),()=>A(pt,i=!0,i)]}class Xn extends ye{constructor(e){super(),ke(this,e,Gn,Kn,be,{})}}new Xn({target:document.body});
